Домашнее задание
Работа с mdadm

Попробуем решить её с помощью Ansible
для начала возьмём вируталку из предыдущего ДЗ, и добавим к ней 4 диска по 1гб (См. dz2scr1.png)
Скачаем вспомогательный модуль для ансибла из https://github.com/mrlesmithjr/ansible-mdadm командой **ansible-galaxy install mrlesmithjr.mdadm**
А также модуль для работы с разделами: **ansible-galaxy collection install community.general**
подготовим наш плэйбук **mdadm_dz.yml** в нём укажем что желаем получить и из каких дисков, далее в разделе tasks укажем что нам надо на созданном рэйде создать 5 разделов и чтобы равномерно распределены по диску.
и запустим его: **ansible-playbook -K mdadm_dz.yml** в результате работы (См. dz2scr2.png) получим желаемый рэйд10 из 4х дисков (См. dz2scr3.png и dz2scr4.png) а также 5 разделов на этом диске (См.dz2scr5.png)
Отдельно выполним подзадание по поломке и ремонту рэйда прямыми командами, пометим диск сбойным (См. dz2scr6.png), удалим его и вставим новый (См. dz2scr7.png). Массив собрался и сихнронизировался(См. dz2scr8.png, dz2scr9.png).
отдельно прикладывают автоматически созданный mdadm.conf но помоему сейчас он не особо и нужен, и так всё работает.

Результат достигнут, массив собран с помощью ансибла.
